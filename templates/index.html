<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Open Source Image Charts Replacement | QuickChart</title>
  <style>
    html, body {
      margin: 0;
    }

    body {
      font-family: 'Proxima Nova Soft','Helvetica Neue',Arial,Helvetica,sans-serif;
    }

    a, a:visited {
      color: darkblue;
    }

    .centered {
      text-align: center;
    }

    .header {
      background-color: linen;
      padding: 1em;
      margin-bottom: 1em;
    }

    .container {
      margin: 0 auto;
      max-width: 1024px;
      padding: 0 1em;
    }

    .hero {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .col {
      flex: 1;
      text-align: center;
    }

    .arrowcol {
      flex: 0.2;
      color: rgba(72, 56, 74, 0.2);
      font-size: 4em;
    }

    .arrowcol:before {
      content: "➜";
    }

    .sandbox-input {
      width: 98%;
      height: 17em;

      background-color: #fdffe6;
      -webkit-box-shadow: 0 0 10px rgba(255,0,0,0.2);
      -moz-box-shadow: 0 0 10px rgba(255,0,0,0.2);
    }

    .sandbox-tag {
      font-size: 10px;
      margin-bottom: 1em;
    }

    .panel {
      padding: 1em;
      margin-bottom: 2em;

      -webkit-box-shadow: 0 0 10px rgba(0,0,0,0.2);
      -moz-box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    .hl {
      background-color: #E9FF32;
    }

    .img-example {
      max-width: 100%;
    }

    .img-example__sparkline {
      max-width: 10em;
    }

    code {
      overflow-x: scroll;
      max-width: 100%;
    }

    footer {
      color: #aaa;
      background-color: #eee;
    }

    .footer-content {
      margin: 0 auto;
      max-width: 1024px;
      padding: 1em;
    }

    .mobile-only {
      display: none;
    }
    .desktop-only {
      display: block;
    }

    @media (max-width: 600px) {
      .container {
        padding: 0 0.5em;
      }
      .hero {
        display: block;
      }
      .arrowcol {
        text-align: center;
        font-size: 3em;
      }
      .arrowcol:before {
        content: "⇣";
      }
      .mobile-only {
        display: block;
      }
      .desktop-only {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="header centered">
    <h1>Generate a Chart Image from URL</h1>
    <p>
<!--
      Fast &amp; Reliable &middot; One URL &middot; Easy to Save &middot; Easy to Embed
-->
      <strong>Create static charts for embedding in email, SMS, reports, and more.</strong>
    </p>
    <p>
      <a href="#build-from-url">How It Works</a> &middot; <a href="#customize">Customize Your Chart</a> &middot; <a href="#chart-types">Chart Types</a> &middot; <a href="#qr">QR Codes</a> &middot; <a href="#about">Open Source</a>
    </p>
  </div>
  <div class="container">
    <div class="hero">
      <div class="col">
        <h2>
          Create a chart using a single URL
        </h2>
        <p>
          <code>
      &lt;img src="https://quickchart.io/chart?width=500&amp;height=300&amp;c=<span class="hl">{type:'bar',data:{labels:['January','February','March','April', 'May'], datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"&gt;</span>
          </code>
        </p>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'bar',data:{labels:['January','February','March','April', 'May'],datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"/>
      </div>
    </div>
    <p>
      This service is a replacement for the <a href="https://developers.google.com/chart/image/">Google Image Charts API</a>, which is scheduled to turn off on March 14, 2019.
    </p>
    <hr/>
    <h2 id="build-from-url">How It Works</h2>
    <p>
      Chart images are defined by their URLs.  Each URL contains a JSON/Javascript object that includes all the data and display options. These options follow the popular open-source graphing library Chart.js.  Use the <a href="https://www.chartjs.org/docs/latest/charts/">documentation</a> to define your chart.
    </p>
    <p>
      Once you've written your config, render it as an image with <code class="hl">https://quickchart.io/chart?c=[[insert config here]]</code>.  Try the realtime editor below:
    </p>
    <div class="hero panel">
      <div class="col">
        <textarea id="sandbox-input" class="sandbox-input" data-image-id="sandbox-img" data-tag-id="sandbox-tag">// Edit me!
{
  type: 'bar',
  data: {
    labels: ['January', 'February', 'March', 'April', 'May'],
    datasets: [{
      label: 'Dogs',
      data: [ 50, 60, 70, 180, 190 ]
    }, {
      label: 'Cats',
      data: [ 100, 200, 300, 400, 500 ]
    }]
  }
}</textarea>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <div id="sandbox-tag" class="sandbox-tag"></div>
        <img class="img-example" id="sandbox-img" src="/chart?bkg=white&c={
  type: 'bar',
  data: {
    labels: ['January', 'February', 'March', 'April', 'May'],
    datasets: [{
      label: 'Dogs',
      data: [ 50, 60, 70, 180, 190 ]
    }, {
      label: 'Cats',
      data: [ 100, 200, 300, 400, 500 ]
    }]
  }
}"/>
      </div>
    </div>
    <h2 id="customize">Customize Your Chart</h2>
    <p>
      Let's get creative.  The example below uses custom background colors, title, legend, stacked bars, axis labels, and data labels:
    </p>
    <div class="hero">
      <div class="col">
        <textarea class="sandbox-input" data-image-id="sandbox-customize">{
  type: 'bar',
  data: {
    labels: ['January', 'February', 'March', 'April', 'May'],
    datasets: [{
      label: 'Dogs',
      backgroundColor: 'chartreuse',
      data: [ 50, 60, 70, 180, 190 ]
    }, {
      label: 'Cats',
      backgroundColor: 'gold',
      data: [ 100, 200, 300, 400, 500 ]
    }]
  },
  options: {
    title: {
      display: true,
      text: 'Total Revenue (billions)',
      fontColor: 'hotpink',
      fontSize: 32,
    },
    legend: {
      position: 'bottom',
    },
    scales: {
      xAxes: [{stacked: true}],
      yAxes: [{
        stacked: true,
        ticks: {
          callback: function(value) {
            return '$' + value;
          }
        }
      }],
    },
    plugins: {
      datalabels: {
        display: true,
        font: {
          style: 'bold',
        },
      },
    },
  },
}</textarea>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
            <img id="sandbox-customize" class="img-example" src="/chart?bkg=white&c=
        {
          type: 'bar',
          data: {
            labels: ['January', 'February', 'March', 'April', 'May'],
            datasets: [{
              label: 'Dogs',
              backgroundColor: 'chartreuse',
              data: [ 50, 60, 70, 180, 190 ]
            }, {
              label: 'Cats',
              backgroundColor: 'gold',
              data: [ 100, 200, 300, 400, 500 ]
            }]
          },
          options: {
            title: {
              display: true,
              text: 'Total Revenue (billions)',
              fontColor: 'hotpink',
              fontSize: 32,
            },
            legend: {
              position: 'bottom',
            },
            scales: {
              xAxes: [{stacked: true}],
              yAxes: [{
                stacked: true,
                ticks: {
                  callback: function(value) {
                    return '$' %2B value;
                  }
                }
              }],
            },
            plugins: {
              datalabels: {
                display: true,
                font: {
                  style: 'bold',
                },
              },
            },
          },
        }
        "/>
      </div>
    </div>
    <p>
      You can use any static customization option available in Chart.js.  The best place to learn the extent of customization options is through the <a href="https://www.chartjs.org/docs/latest/configuration/">documentation</a>.
    </p>
    <p>
      A couple things to remember when customizing your chart:
      <ul>
        <li><strong>We recommend that you <a href="https://meyerweb.com/eric/tools/dencoder/">URL-encode</a> the entire JSON config block.</strong>  If not URL-encoded, you must escape all hex characters, e.g. <code>#ff0000</code> &rarr; <code>%23ff0000</code>, or just use the <code>rgb(255, 0, 0)</code> equivalent</li>
        <li>Interactivity and animations are not supported (this service produces static images)</li>
      </ul>
    </p>
    <p>
      We also provide these additional options as query parameters:
      <ul>
        <li><code><strong>&amp;width</strong>=500</code>: Set the width of the image. Abbreviated as "w"</li>
        <li><code><strong>&amp;height</strong>=300</code>: Set the height of the image. Abbreviated as "h"</li>
        <li><code><strong>&amp;backgroundColor</strong>=transparent</code>: Set the background of the chart canvas. Abbreviated as "bkg"</li>
      </ul>
      Combine these parameters in your query string. For example: <code>/chart?width=500&amp;height=300&amp;c={...}</code>
    </p>
    <hr/>
    <h2 id="chart-types">Chart Types</h2>
    <p>
      Customization can be very simple.  By changing <code class="hl">type: bar</code> to <code class="hl">type: line</code>, for example, we can instantly produce an equivalent line graph:
    </p>
    <div class="hero panel">
      <div class="col">
        <h3>Bar Graph</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'bar'</span>,data:{labels:['January','February','March','April', 'May'], datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'bar',data:{labels:['January','February','March','April', 'May'],datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Line Graph</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'line'</span>,data:{labels:['January','February','March','April', 'May'], datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'line',data:{labels:['January','February','March','April', 'May'],datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"/>
      </div>
    </div>
    <p>
      There are many other chart types as well:
    </p>
    <div class="hero panel">
      <div class="col">
        <h3>Radar Chart</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'radar'</span>,data:{labels:['January','February','March','April', 'May'], datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'radar',data:{labels:['January','February','March','April', 'May'],datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500]}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Pie Chart</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'pie'</span>,data:{labels:['January','February','March','April', 'May'], datasets:[{data:[50,60,70,180,190]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'pie',data:{labels:['January','February','March','April', 'May'],datasets:[{data:[50,60,70,180,190]}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Doughnut Chart</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'doughnut'</span>,data:{labels:['January','February','March','April', 'May'], datasets:[{data:[50,60,70,180,190]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'doughnut',data:{labels:['January','February','March','April', 'May'],datasets:[{data:[50,60,70,180,190]}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Scatter Plot</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'scatter'</span>,data:{datasets:[{label:'Data 1',data:[{x:2,y:4},{x:3,y:3},{x:-10,y:0},{x:0,y:10},{x:10,y:5}]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'scatter',data:{datasets:[{label:'My Data',data:[{x:2,y:4},{x:3,y:3},{x:-10,y:-2},{x:2,y:10},{x:10,y:5}]}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Bubble Chart</h3>
        <p>
          The <code>r</code> variable defines bubble radius in pixels:
        </p>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'bubble'</span>,data:{datasets:[{label:'Data 1',data:[{x:1,y:4,r:9},{x:2,y:4,r:6},{x:3,y:8,r:30},{x:0,y:10,r:1},{x:10,y:5,r:5}]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'bubble',data:{datasets:[{label:'Data 1',data:[{x:1,y:4,r:9},{x:2,y:4,r:6},{x:3,y:8,r:30},{x:0,y:10,r:1},{x:10,y:5,r:5}]}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Radial Gauge / "Meter" Charts</h3>
        <p>
          View the options at <a target="_blank" href="https://github.com/pandameister/chartjs-chart-radial-gauge#options">chartjs-radial-gauge</a> for customization details.
        </p>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'radialGauge'</span>,data:{datasets:[{data:[70],backgroundColor:'green'}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?c={type:'radialGauge',data:{datasets:[{data:[70],backgroundColor:'green'}]}}"/>
      </div>
    </div>
    <div class="hero panel">
      <div class="col">
        <h3>Sparklines</h3>
        <p>
          A sparkline is a special case of line graph with axes and other labeling removed. All <a href="https://www.chartjs.org/docs/latest/charts/line.html">line graph options</a> can be applied.
        </p>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'sparkline'</span>,data:{datasets:[{data:[140,60,274,370,199]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example__sparkline" src="/chart?c={type:'sparkline',data:{datasets:[{data:[140,60,274,370,199]}]}}"/>
      </div>
    </div>
    <p>
      You can combine charts together by specifying different "types":
    </p>
    <div class="hero panel">
      <div class="col">
        <h3>Mixed Charts</h3>
        <code>
    &lt;img src="https://quickchart.io/chart?c={<span class="hl">type:'bar'</span>,data:{labels:['January','February','March','April', 'May'], datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500],},{<span class="hl">type:'line'</span>,fill:false, label:'Potatoes',data:[100,400,200,400,700]}]}}"&gt;
        </code>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <img class="img-example" src="/chart?bkg=white&c={type:'bar',data:{labels:['January','February','March','April','May'],datasets:[{label:'Dogs',data:[50,60,70,180,190]},{label:'Cats',data:[100,200,300,400,500],},{type:'line',fill:false,label:'Potatoes',data:[100,400,200,400,700]}]}}"/>
      </div>
    </div>
    <h2 id="qr">Chart Annotations and Plugins</h2>
    <p>
      Two additional Chart.js plugins are supported: Data Labels (<a href="https://github.com/chartjs/chartjs-plugin-datalabels">chartjs-plugin-datalabels</a>) and Annotations (<a href="https://github.com/chartjs/chartjs-plugin-annotation">chartjs-plugin-annotation</a>).  These allow you to add various markup to your chart.  Have a look at the documentation for each plugin to learn more about the possibilities.
    </p>
    <div class="hero panel">
      <div class="col">
        <textarea class="sandbox-input" data-image-id="sandbox-plugin" data-tag-id="plugin-tag">{
  type: 'line',
  data: {
    labels: [1,2,3,4,5],
    datasets: [{
      label: 'Rainfall',
      data: [ 200, 90, 120, 400, 500 ],
      fill: false,
      borderColor: 'green',
      backgroundColor: 'green',
    }]
  },
  options: {
    annotation: {
      annotations: [{
        type: 'line',
        mode: 'vertical',
        scaleID: 'x-axis-0',
        value: 2,
        borderColor: 'red',
        borderWidth: 4,
        label: {
          enabled: true,
          content: 'Something changed'
        }
      }, {
        type: 'box',
        xScaleID: 'x-axis-0',
        yScaleID: 'y-axis-0',
        xMin: 3,
        xMax: 5,
        backgroundColor: 'rgba(200, 200, 200, 0.2)',
        borderColor: '#ccc',
      }]
    },
    plugins: {
      datalabels: {
        display: true,
        align: 'bottom',
        backgroundColor: '#ccc',
        borderRadius: 3
      },
    }
  }
}</textarea>
      </div>
      <div class="arrowcol"></div>
      <div class="col">
        <div id="plugin-tag" class="sandbox-tag"></div>
        <img class="img-example" id="sandbox-plugin" src="/chart?bkg=white&c=%7B%0A%20%20type%3A%20%27line%27%2C%0A%20%20data%3A%20%7B%0A%20%20%20%20labels%3A%20%5B1%2C2%2C3%2C4%2C5%5D%2C%0A%20%20%20%20datasets%3A%20%5B%7B%0A%20%20%20%20%20%20label%3A%20%27Rainfall%27%2C%0A%20%20%20%20%20%20data%3A%20%5B%20200%2C%2090%2C%20120%2C%20400%2C%20500%20%5D%2C%0A%20%20%20%20%20%20fill%3A%20false%2C%0A%20%20%20%20%20%20borderColor%3A%20%27green%27%2C%0A%20%20%20%20%20%20backgroundColor%3A%20%27green%27%2C%0A%20%20%20%20%7D%5D%0A%20%20%7D%2C%0A%20%20options%3A%20%7B%0A%20%20%20%20annotation%3A%20%7B%0A%20%20%20%20%20%20annotations%3A%20%5B%7B%0A%20%20%20%20%20%20%20%20type%3A%20%27line%27%2C%0A%20%20%20%20%20%20%20%20mode%3A%20%27vertical%27%2C%0A%20%20%20%20%20%20%20%20scaleID%3A%20%27x-axis-0%27%2C%0A%20%20%20%20%20%20%20%20value%3A%202%2C%0A%20%20%20%20%20%20%20%20borderColor%3A%20%27red%27%2C%0A%20%20%20%20%20%20%20%20borderWidth%3A%204%2C%0A%20%20%20%20%20%20%20%20label%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20enabled%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20content%3A%20%27Something%20changed%27%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%27box%27%2C%0A%09xScaleID%3A%20%27x-axis-0%27%2C%0A%09yScaleID%3A%20%27y-axis-0%27%2C%0A%20%20%20%20%20%20%20%20xMin%3A%203%2C%0A%20%20%20%20%20%20%20%20xMax%3A%205%2C%0A%20%20%20%20%20%20%20%20backgroundColor%3A%20%27rgba(200%2C%20200%2C%20200%2C%200.2)%27%2C%0A%20%20%20%20%20%20%20%20borderColor%3A%20%27%23ccc%27%2C%0A%20%20%20%20%20%20%7D%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20plugins%3A%20%7B%0A%20%20%20%20%20%20datalabels%3A%20%7B%0A%20%20%20%20%20%20%20%20display%3A%20true%2C%0A%20%20%20%20%20%20%20%20align%3A%20%27bottom%27%2C%0A%20%20%20%20%20%20%20%20backgroundColor%3A%20%27%23ccc%27%2C%0A%20%20%20%20%20%20%20%20borderRadius%3A%203%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D"/>
      </div>
    </div>
    <h2 id="qr">QR codes</h2>
    <p>
      We also support QR code generation.  You can render a QR code like so:
    </p>
    <div class="centered">
      <p>
        <code><strong>https://quickchart.io/qr?text=</strong>Here's my text</code>
      </p>
      <p>
        <img src="/qr?text=Here's my text">
      </p>
    </div>
    <p>
      Remember the URL-encode your <code>text</code> parameter for more complex strings.  The QR endpoint produces a PNG image by default.  You may optionally set the query parameter <code><strong>format</strong>=svg</code> for SVG format.
    </p>
    <p>
      Specify the whitespace around QR image in modules with query parameter <code><strong>margin</strong></code> (defaults to 4), <code><strong>size</strong></code> in pixels of the square QR image (defaults to 150), and error correction level with <code><strong>ecLevel</strong>=M</code> (valid values: L, M, Q, H).
    </p>
    <p>
      If you'd like to customize the color of your QR code, use <code><strong>dark=</strong>000000</code> and <code><strong>light=</strong>ffffff</code>. The parameters must be hex color codes.  Here's the same code as above but with slimmer margins, more error protection, and colors:
    </p>
    <div class="centered">
      <p>
        <code>https://quickchart.io/qr?text=Here's%20my%20text&amp;dark=f00<wbr>&amp;light=0ff&amp;ecLevel=Q</code>
      </p>
      <p>
        <img src="/qr?text=Here's%20my%20text&dark=f00&light=0ff&ecLevel=Q&margin=2">
      </p>
    </div>
    <h2 id="about">About QuickChart.io</h2>
    <p>
      QuickChart is a free service built and maintained by Ian Webster.  You may use images produced by this website for any purpose.
    </p>
    <p>
      This service was built in response to the Google Image Charts shutdown and is supported by <a href="https://arthena.com/">Arthena</a> and <a href="https://skepticalinvestments.biz/">Skeptical Investments</a>.
    </p>
    <p>
      QuickChart is <a href="https://github.com/typpo/quickchart">open source</a>, dual licensed under the GNU GPLv3 and a commercial license.  This means that QuickChart is never going away; anyone can host this service with minimal resource requirements.  If you would like to modify QuickChart source code for commercial use, please <a href="mailto:ian@alioth.io">contact us</a> for a license.
    </p>
  </div>
  <footer>
    <div class="footer-content">
      &copy; Ian Webster 2019
    </div>
  </footer>
  <script>
    var elts = document.getElementsByClassName('sandbox-input')
    for (var i=0; i < elts.length; i++) {
      (function() {
        var input = elts[i];
        var img = document.getElementById(input.dataset.imageId);
        var tag = input.dataset.tagId ? document.getElementById(input.dataset.tagId) : undefined;
        var updateImage = function() {
          var url = '/chart?bkg=white&c=' + encodeURIComponent(input.value);
          img.src = url;
          var lines = input.value.split('\n').filter(function(line) {
            return line.slice(0, 2) !== '//';
          });
          if (tag) {
            let linkText = 'https://quickchart.io/chart?bkg=white&c=' + lines.join('');
            if (linkText.length > 500) {
              linkText = linkText.slice(0, 100) + ' ... ' + linkText.slice(linkText.length - 100);
            }
            tag.innerHTML = '<a href="' + url + '">' + linkText + '</a>';
          }
        }
        input.onkeyup = debounce(updateImage, 350);
      })();
    }

    function debounce(func, wait, immediate) {
      var timeout;
      return function executedFunction() {
        var context = this;
        var args = arguments;
        var later = function() {
          timeout = null;
          if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
      }
    };
  </script>
</body>
</html>
